<CharacterTile>:
    pos_hint: {"center_x": .5, "center_y": .5}
    #size_hint: None, None
    #size: "320dp", "320dp"
    overlap: False

    #size_hint: 0.5, None  # Adjust width proportionally (45% of container)
    #height: self.width * 1.3  # Aspect ratio (adjust according to design)
    size_hint_x: 1

    MDSmartTileImage:
        source: root.character_source
        radius: [dp(24), dp(24), 0, 0]

    MDSmartTileOverlayContainer:
        md_bg_color: 0, 0, 0, .5
        adaptive_height: True
        padding: "8dp"
        spacing: "8dp"
        radius: [0, 0, dp(24), dp(24)]

        MDIconButton:
            id: favorite_btn
            #icon: "heart-outline"
            icon: "heart" if root.is_favorite else "heart-outline"
            theme_icon_color: "Custom"
            #icon_color: 1, 0, 0, 1  # rojo
            #icon_color: 1, 1, 1, 1  # blanco
            icon_color: (1, 0, 0, 1) if root.is_favorite else (1, 1, 1, 1)
            pos_hint: {"center_y": .5}
            on_release:
                root.toggle_favorite()
                #self.icon = "heart" \
                #if self.icon == "heart-outline" else \
                #"heart-outline"

        MDLabel:
            text: root.character_name
            theme_text_color: "Custom"
            text_color: "white"


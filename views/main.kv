# Incluir sub-archivos KV
#:include views/auth/login.kv
#:include views/auth/register.kv

#:include views/characters/characters_list.kv
#:include views/favorites/favorites_list.kv

#:import NoTransition kivy.uix.screenmanager.NoTransition

<DrawerClickableItem@MDNavigationDrawerItem>
    focus_color: app.theme_cls.primary_light
    text_color: "white"
    icon_color: "white"
    #ripple_color: "#c5bdd2"
    selected_color: app.theme_cls.primary_dark
    
    #focus_behavior: False
    _no_ripple_effect: True



MDScreen:
    id: root_kv
    #md_bg_color: self.theme_cls.secondaryContainerColor

    MDNavigationLayout:

        ScreenManager:
            id: screen_manager
            transition: NoTransition()

        # PANEL LATERAL
        MDNavigationDrawer:
            id: nav_drawer
            radius: 0, dp(16), dp(16), 0

            MDNavigationDrawerMenu:

                #MDNavigationDrawerHeader:
                    #padding: "0dp",  0, "0dp", "0dp"
                    #spacing: "0dp" 
                    #size_hint_y: None
                    #height: self.minimum_height
                    #adaptive_height: True
                    #height: "100dp"
                    #source: "assets/images/name_logo.png"
                    #padding: "12dp", 0, 0, "56dp"

#                    FitImage:
#                        source: "assets/images/name_logo.png"
#                        #size_hint_y: None
#                        height: "150dp"  # Ajusta el alto de la imagen
#                        allow_stretch: True
#                        size_hint_y: None
#                        size_hint_x: 1
 
                FitImage:
                    source: "assets/images/name_logo.png"
                    height: "90dp"  # Ajusta el alto de la imagen
                    allow_stretch: True
                    size_hint_y: None
                    size_hint_x: 1
                               
                MDNavigationDrawerLabel:
                    text: "poncho6257@hotmail.com"
                    #theme_text_color: "Custom"
                    #text_color: self.theme_cls.primaryColor

                DrawerClickableItem:
                    icon: "home"
                    text: "Home"
                    on_press: screen_manager.current = 'characters_list'

                MDNavigationDrawerDivider:

                DrawerClickableItem:
                    icon: "magnify"
                    text: "Search"

                DrawerClickableItem:
                    icon: "cards-heart"
                    text: "Favorites"
                    on_press: screen_manager.current = 'favorites_list'               

                DrawerClickableItem:
                    icon: "cog"
                    text: "Settings"

                DrawerClickableItem:
                    icon: "login"
                    text: "Log Out"
                    on_press:
                        app.auth_controller.logout()
                        screen_manager.current = 'login'

                DrawerClickableItem:
                    icon: "exit-to-app"
                    text: "Close App"
                    on_press: app.stop_app()



#app.root.current = 'characters_list'
#app.root.current = 'favorites_list'
#app.auth_controller.logout()
#app.root.current = 'login'

#root.manager.current = 'characters_list'
#root.manager.current = 'favorites_list'
#app.auth_controller.logout()
#root.manager.current = 'login'

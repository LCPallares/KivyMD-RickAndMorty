# Incluir sub-archivos KV
#:include views/auth/login.kv
#:include views/auth/register.kv

#:include views/characters/characters_list.kv
#:include views/favorites/favorites_list.kv

#:import NoTransition kivy.uix.screenmanager.NoTransition

MDScreen:
    id: root_kv
    md_bg_color: self.theme_cls.secondaryContainerColor

    MDNavigationLayout:

        ScreenManager:
            id: screen_manager
            transition: NoTransition()

        # PANEL LATERAL
        MDNavigationDrawer:
            id: nav_drawer
            radius: 0, dp(16), dp(16), 0

            MDNavigationDrawerMenu:

                MDNavigationDrawerHeader:
                    padding: "16dp", 0, "16dp", "16dp"
                    spacing: "16dp"

                    MDIcon:
                        icon: "card-account-mail-outline"
                        theme_font_size: "Custom"
                        font_size: "56sp"
                        theme_icon_color: "Custom"
                        icon_color: self.theme_cls.primaryColor

                    MDLabel:
                        text: "Gmail"
                        font_style: "Display"
                        role: "medium"
                        theme_line_height: "Custom"
                        line_height: 0
                        adaptive_height: True
                        theme_text_color: "Custom"
                        text_color: self.theme_cls.primaryColor


                MDNavigationDrawerLabel:
                    text: "accaount@gmail.com"
                    theme_text_color: "Custom"
                    text_color: self.theme_cls.primaryColor

                MDNavigationDrawerItem:
                    on_press: screen_manager.current = 'characters_list'
                    MDNavigationDrawerItemLeadingIcon:
                        icon: "home"
                    MDNavigationDrawerItemText:
                        text: "Inicio"
                    #MDNavigationDrawerItemTrailingText:
                    #    text: "24"

                MDNavigationDrawerDivider:

                MDNavigationDrawerItem:
                    MDNavigationDrawerItemLeadingIcon:
                        icon: "account"
                    MDNavigationDrawerItemText:
                        text: "Inbox"

                MDNavigationDrawerItem:
                    on_press: screen_manager.current = 'favorites_list'
                    MDNavigationDrawerItemLeadingIcon:
                        icon: "cards-heart"
                    MDNavigationDrawerItemText:
                        text: "Favoritos"

                MDNavigationDrawerItem:
                    MDNavigationDrawerItemLeadingIcon:
                        icon: "cog"
                    MDNavigationDrawerItemText:
                        text: "Ajustes"

                MDNavigationDrawerItem:
                    on_press:
                        app.auth_controller.logout()
                        screen_manager.current = 'login'
                    MDNavigationDrawerItemLeadingIcon:
                        icon: "login"
                    MDNavigationDrawerItemText:
                        text: "Cerrar Sesion"


                MDNavigationDrawerItem:
                    on_press: app.stop_app()
                    MDNavigationDrawerItemLeadingIcon:
                        icon: "exit-to-app"
                    MDNavigationDrawerItemText:
                        text: "Cerrar App"

#app.root.current = 'characters_list'
#app.root.current = 'favorites_list'
#app.auth_controller.logout()
#app.root.current = 'login'

#root.manager.current = 'characters_list'
#root.manager.current = 'favorites_list'
#app.auth_controller.logout()
#root.manager.current = 'login'

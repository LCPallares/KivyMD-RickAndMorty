<LoginScreen>:
    id: login_screen_widget         
    ####md_bg_color: self.theme_cls.backgroundColor
    ####md_bg_color: self.theme_cls.onPrimaryColor
    ####md_bg_color: app.theme_cls.bg_normal
    ###md_bg_color: app.theme_cls.primary_color

    MDBoxLayout:
        orientation: 'vertical'
        #spacing: 5
        #spacing: dp(5)

        # IMAGEN
        MDBoxLayout:
        #MDFloatLayout:
            size_hint_y: 0.49
            padding: dp(28)
            #spacing: dp(2)
            #size_hint: None, None
            #radius: dp(50), dp(50), dp(50), dp(50)
            
            FitImage:
                source: "assets/images/bg.png"
                #size_hint: 1, .3 
                #height: "400dp"
                pos_hint: {"top": 1}
                #radius: dp(36), dp(36), dp(36), dp(36)
                #size_hint_y: .8

        # CONTENIDO
        #MDCard:
        MDBoxLayout:
            orientation: "vertical"
            #size_hint: 1, None
            size_hint_y: 0.51
            height: self.minimum_height
            padding: dp(16)
            spacing: dp(10)
            pos_hint: {"center_x": .5, "top": .6}
            radius: dp(36), dp(36), 0, 0
            ####md_bg_color: self.theme_cls.backgroundColor
            ####md_bg_color: self.theme_cls.onPrimaryColor
            ###md_bg_color: app.theme_cls.bg_normal
            elevation: 0

            pos_hint: {"center_x": .5, "y": 0} # Stick to the bottom
            radius: dp(36), dp(36), 0, 0 # Radius only on top corners

            # Primario
            #MDRelativeLayout:
            MDBoxLayout:
                orientation: 'vertical'
                #size_hint_y: None
                #height: dp(50)
                spacing: dp(10)
                padding: dp(10)
                
                adaptive_height: True
                ####md_bg_color: app.theme_cls.errorColor
                #####md_bg_color: app.theme_cls.onPrimaryFixedColor
                #size_hint_y: 0.03
                radius: dp(15), dp(15), dp(15), dp(15)

                MDTextField:
                    id: username_input
                    #mode: "outlined"
                    hint_text: "Username"

                MDTextField:
                    id: password_input
                    password: True
                    #mode: "outlined"
                    hint_text: "Password"

                Label:
                    text: root.error_message
                    color: (1, 0, 0, 1)
                    size_hint_y: None
                    height: 30

                MDRaisedButton:
                    pos_hint: {"center_x": .5, "center_y": .5}
                    height: dp(56) # Usar dp para la altura
                    size_hint_x: .5
                    on_press:
                        #root.attempt_login()
                        login_screen_widget.attempt_login()
                    text: "Login"
                    ###md_bg_color: app.theme_cls.primary_color
                    ###text_color: app.theme_cls.on_primary_color



            Widget:
                
            # secundario
            MDBoxLayout:
                orientation: 'vertical'
                #size_hint_y: None
                #height: dp(50)
                spacing: dp(10)
                padding: dp(10)
                
                adaptive_height: True
                ####md_bg_color: app.theme_cls.errorColor
                ####md_bg_color: app.theme_cls.inversePrimaryColor
                ####md_bg_color: app.theme_cls.onPrimaryFixedColor
                ###md_bg_color: app.theme_cls.bg_normal
                #size_hint_y: 0.03
                radius: dp(15), dp(15), dp(15), dp(15)
                #padding_y: dp(10)

                MDLabel:
                    text: "Â¿Don't have an account?, sign up"
                    adaptive_height: True
                    #padding_y: dp(10)
                    halign: "center"
                    #bold: True
                    ###text_color: app.theme_cls.primaryColor
                    font_style: "H6"
                    #role: "medium"
                    
                MDRaisedButton:
                    text: "Sign Up" 
                    size_hint_x: 0.5
                    height: dp(56)
                    pos_hint: {"center_x": .5}
                    on_press: root.manager.current = 'register'
